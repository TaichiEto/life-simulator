<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>将来設計シミュレーター for Students</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>将来設計シミュレーター</h1>
            <p>大学生が将来のライフプランを考えるためのツールです</p>
        </header>

        <main>
            <section class="input-section">
                <form id="main-form">
                    <h3>🎓 基本情報</h3>
                    <div class="form-group">
                        <label for="current-age">現在の年齢</label>
                        <input type="number" id="current-age" min="18" max="30" value="20" required>
                    </div>
                    <div class="form-group">
                        <label for="graduation-age">卒業予定年齢</label>
                        <input type="number" id="graduation-age" min="20" max="35" value="22" required>
                    </div>
                    <div class="form-group">
                        <label for="current-savings">現在の貯蓄額 (万円)</label>
                        <input type="number" id="current-savings" min="0" value="50" step="10" required>
                    </div>
                    <div class="form-group">
                        <label for="retire-age">リタイア希望年齢</label>
                        <input type="number" id="retire-age" min="55" max="80" value="65" required>
                    </div>

                    <h3>💰 奨学金 (任意)</h3>
                    <div class="form-group">
                        <label for="scholarship-debt">借入総額 (万円)</label>
                        <input type="number" id="scholarship-debt" min="0" value="0" step="10">
                    </div>
                    <div class="form-group">
                        <label for="scholarship-years">返済期間 (年)</label>
                        <input type="number" id="scholarship-years" min="1" max="20" value="15">
                    </div>

                    <h3>🌟 ライフプランニング</h3>
                    <div class="life-event-group">
                        <h4>🏠 住まい</h4>
                        <div class="form-group">
                            <label for="housing-plan">住宅プラン</label>
                            <select id="housing-plan">
                                <option value="none">賃貸に住み続ける</option>
                                <option value="house-regional">地方都市に家を買う</option>
                                <option value="house-capital-suburbs">首都圏郊外に家を買う</option>
                                <option value="condo-capital">首都圏にマンションを買う</option>
                            </select>
                        </div>
                        <div class="form-group" id="housing-age-group" style="display: none;">
                            <label for="housing-age">購入希望年齢</label>
                            <input type="number" id="housing-age" min="25" max="60" value="35">
                        </div>
                    </div>

                    <div class="life-event-group">
                        <h4>🚗 車</h4>
                        <div class="form-group">
                            <label for="car-plan">車のプラン</label>
                            <select id="car-plan">
                                <option value="none">車は持たない</option>
                                <option value="car-standard">国産の標準的な新車</option>
                                <option value="car-luxury">国産の高級車・輸入車</option>
                            </select>
                        </div>
                        <div class="form-group" id="car-age-group" style="display: none;">
                            <label for="car-age">購入希望年齢</label>
                            <input type="number" id="car-age" min="22" max="60" value="30">
                        </div>
                    </div>

                    <div class="life-event-group">
                        <h4>👨‍👩‍👧‍👦 家族計画</h4>
                        <div class="form-group">
                            <label for="children-count">希望する子供の人数</label>
                            <select id="children-count">
                                <option value="0">0人</option>
                                <option value="1">1人</option>
                                <option value="2">2人</option>
                                <option value="3">3人</option>
                            </select>
                        </div>
                        <div id="children-plans-container"></div>
                    </div>

                    <h3>⚙️ シミュレーション設定</h3>
                     <div class="form-group">
                        <label for="graph-end-age">グラフ表示終了年齢</label>
                        <input type="number" id="graph-end-age" min="30" max="80" value="50">
                    </div>
                    <div class="form-group">
                        <label for="disposable-income">目標年間可処分所得 (万円)</label>
                        <input type="number" id="disposable-income" min="0" value="120" step="10">
                    </div>
                    
                    <div class="action-buttons">
                        <button type="button" id="calculate-btn" class="calculate-btn">🔥 あなたの未来を計算する</button>
                    </div>
                </form>
            </section>

            <section class="results-section" style="display: none;">
                <h2>💰 年齢別シミュレーション</h2>
                <div id="calculation-results">
                    <div id="loan-requirement-note" class="loan-note" style="display: none;">
                        <!-- Message about loan requirements will be inserted here -->
                    </div>

                    <div class="chart-container">
                        <p class="chart-note">グラフの各年齢をクリックすると、詳細な内訳が見れます。</p>
                        <canvas id="asset-chart"></canvas>
                    </div>

                    <div class="timeline-section">
                        <h4>📅 ライフイベント・タイムライン</h4>
                        <ul id="life-event-timeline">
                            <!-- Timeline items will be added here -->
                        </ul>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Age Detail Modal -->
    <div id="age-detail-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <button id="modal-close-btn" class="modal-close">&times;</button>
            <h3 id="modal-title"></h3>
            <div id="modal-body"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
